(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},26:function(e,t,n){e.exports=n(37)},31:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(23),c=n.n(r),l=n(8),u=(n(31),n(17)),s=n(2),i=n(3),d=n(5),m=n(4),f=n(6),h=n(11),p=o.a.createContext({folders:[],notes:[],deleteNotes:function(){},addFolders:function(){},addNotes:function(){}});n(20);var E=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.notes,n=e.goBack;return o.a.createElement(p.Consumer,null,function(e){return o.a.createElement("div",null,o.a.createElement("ul",null,t.map(function(t){return o.a.createElement("li",{className:"note",key:t.id},o.a.createElement(l.b,{to:"/notes/".concat(t.id)},o.a.createElement("h2",null,t.name)),o.a.createElement("p",null,t.modified),o.a.createElement("button",{onClick:function(){!function(e,t,n){fetch("http://localhost:9090/notes/".concat(e),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){if(!e.ok)return e.json().then(function(e){throw new Error(e)})}).then(function(e){t(e),n()}).catch(function(e){console.error(e)})}(t.id,e.deleteNotes,n)}},"Delete"))})))})}}]),t}(a.Component);var b=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notes,n=e.goBack;return o.a.createElement(p.Consumer,null,function(e){return o.a.createElement("div",null,o.a.createElement("ul",null,t.map(function(t){return o.a.createElement("li",{className:"note",key:t.id},o.a.createElement("h2",null,t.name),o.a.createElement("p",null,t.modified),o.a.createElement("button",{onClick:function(){!function(e,t,n){fetch("http://localhost:9090/notes/".concat(e),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){if(!e.ok)return e.json().then(function(e){throw new Error(e)})}).then(function(e){t(e),n()}).catch(function(e){console.error(e)})}(t.id,e.deleteNotes,n)}},"Delete"))})),1===t.length?o.a.createElement("p",null,t[0].content):"")})}}]),t}(a.Component),j=(n(22),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("ul",null,this.props.folders.map(function(e){return o.a.createElement(l.b,{to:"/folders/".concat(e.id),key:e.id},o.a.createElement("li",null,o.a.createElement("div",{className:"folders"},e.name)))})))}}]),t}(a.Component)),v=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("ul",null,o.a.createElement(l.b,{to:"/"},o.a.createElement("li",null,o.a.createElement("div",{className:"folders"},"Go back")))))}}]),t}(a.Component),O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).nameSubmitted=function(t){e.setState({name:t})},e.onHandleSubmit=function(t,n){t.preventDefault(),console.log(e.state.name),fetch("http://localhost:9090/folders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.name})}).then(function(e){if(!e.ok)throw new Error(e.status);return e.json()}).then(function(t){n(t),e.props.history.push("/")}).catch(function(e){console.error(e)})},e.state={name:""},e}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(p.Consumer,null,function(t){return o.a.createElement("div",null,o.a.createElement("h1",null,"Add Folder"),o.a.createElement("form",{onSubmit:function(n){return e.onHandleSubmit(n,t.addFolders)}},o.a.createElement("label",{htmlFor:"name"},"Name: "),o.a.createElement("input",{id:"name",type:"text",onChange:function(t){return e.nameSubmitted(t.target.value)}}),o.a.createElement("button",{type:"submit"},"Submit")))})}}]),t}(a.Component),N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).updateNoteName=function(t){e.setState({name:t})},e.updateNoteContent=function(t){e.setState({content:t})},e.updateFolderId=function(t){e.setState({folderId:t})},e.onHandleSubmit=function(t,n){t.preventDefault(),console.log(e.state.name),console.log(e.state.content),console.log(e.state.folderId),fetch("http://localhost:9090/notes",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.name,content:e.state.content,modified:new Date,folderId:e.state.folderId})}).then(function(e){if(!e.ok)throw new Error(e.status);return e.json()}).then(function(t){n(t),e.props.history.push("/")}).catch(function(e){console.error(e)})},e.state={name:"",content:"",folderId:""},e}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(p.Consumer,null,function(t){return o.a.createElement("div",null,o.a.createElement("h1",null,"Add Notes"),o.a.createElement("form",{onSubmit:function(n){return e.onHandleSubmit(n,t.addNotes)}},o.a.createElement("label",{htmlFor:"name"},"Name: "),o.a.createElement("input",{id:"name",type:"text",onChange:function(t){return e.updateNoteName(t.target.value)}}),o.a.createElement("label",{htmlFor:"content"},"Content: "),o.a.createElement("input",{id:"content",type:"text",onChange:function(t){return e.updateNoteContent(t.target.value)}}),o.a.createElement("select",{onChange:function(t){return e.updateFolderId(t.target.value)}},t.folders.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},"".concat(e.name))})),o.a.createElement("button",{type:"submit"},"Submit")))})}}]),t}(a.Component),y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={hasError:!1},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.hasError?o.a.createElement("h2",null,"Could not display this component"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.Component),k=(n(36),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).fetchFolders=function(){fetch("http://localhost:9090/folders",{method:"GET",headers:{"content-type":"json/application"}}).then(function(e){if(!e.ok)throw new Error(e.status);return e.json()}).then(function(e){n.setFolders(e)}).catch(function(e){console.error(e)})},n.fetchNotes=function(){fetch("http://localhost:9090/notes",{method:"GET",headers:{"content-type":"json/application"}}).then(function(e){if(!e.ok)throw new Error(e.status);return e.json()}).then(function(e){n.setNotes(e)}).catch(function(e){console.error(e)})},n.setNotes=function(e){n.setState({notes:e})},n.setFolders=function(e){n.setState({folders:e})},n.addFolders=function(e){console.log(e),n.setState({folders:[].concat(Object(u.a)(n.state.folders),[e])}),n.fetchFolders()},n.addNotes=function(e){n.setState({notes:[].concat(Object(u.a)(n.state.notes),[e])}),n.fetchNotes()},n.deleteNotes=function(e){var t=n.state.notes.filter(function(t){return t.id!==e});n.setState({notes:t}),n.fetchNotes()},n.state={folders:[],notes:[]},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("component"),this.fetchFolders(),this.fetchNotes()}},{key:"render",value:function(){var e=this,t={notes:this.state.notes,folders:this.state.folders,deleteNotes:this.deleteNotes,addNotes:this.addNotes,addFolders:this.addFolders};return console.log("render"),o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement(l.b,{to:"/"},o.a.createElement("h1",null,"Noteful")),o.a.createElement("div",null,o.a.createElement(l.b,{to:"/addNotes"},o.a.createElement("p",null,"Add Note")),o.a.createElement(l.b,{to:"/addFolder"},o.a.createElement("p",null,"Add Folder")))),o.a.createElement(p.Provider,{value:t},o.a.createElement("main",{className:"main"},o.a.createElement("nav",{className:"left"},o.a.createElement(y,null,o.a.createElement(h.a,{path:"/",exact:!0,render:function(){return o.a.createElement(j,{folders:e.state.folders})}})),o.a.createElement(h.a,{path:"/folders/:folderId",render:function(){return o.a.createElement(j,{folders:e.state.folders})}}),o.a.createElement(y,null,o.a.createElement(h.a,{path:"/notes/:notesId",component:v})),o.a.createElement(y,null,o.a.createElement(h.a,{path:"/addFolder",component:v})),o.a.createElement(y,null,o.a.createElement(h.a,{path:"/addNotes",component:v}))),o.a.createElement("section",{className:"right"},o.a.createElement(y,null,o.a.createElement(h.a,{path:"/",exact:!0,render:function(t){var n=t.history;return o.a.createElement(E,{notes:e.state.notes,goBack:function(){return n.push("/")}})}})),o.a.createElement(y,null,o.a.createElement(h.a,{path:"/folders/:folderId",render:function(t){var n=t.match,a=t.history;return o.a.createElement(E,{notes:e.state.notes.filter(function(e){return e.folderId===n.params.folderId}),goBack:function(){return a.push("/")}})}})),o.a.createElement(y,null,o.a.createElement(h.a,{path:"/notes/:noteId",render:function(t){var n=t.match,a=t.history;return o.a.createElement(b,{notes:e.state.notes.filter(function(e){return e.id===n.params.noteId}),goBack:function(){return a.push("/")}})}})),o.a.createElement(y,null,o.a.createElement(h.a,{path:"/addFolder",component:O})),o.a.createElement(y,null,o.a.createElement(h.a,{path:"/addNotes",component:N}))))))}}]),t}(a.Component));c.a.render(o.a.createElement(l.a,null,o.a.createElement(k,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.0be7c3f2.chunk.js.map